<!--
    Blog tools for client to edit and publish posts to webserver

    CSCI-2356 Project: Phase 1

    author: Mohak Shrivastava (A00445470)
    author: Nayem Imtiaz (A00448982)
    author: Naziya Tasnim (A00447506)
    author: Sheikh Saad Abdullah (A00447871)
 -->
<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- { START }
            HEAD:
                Header information for the HTML document,
                specifying stylesheets, scripts, and metadata

            author: Sheikh Saad Abdullah (A00447871)
         -->
        <title>Blog</title>

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="description" content="Blog tools" />

        <!-- Bootstrap CSS -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
            crossorigin="anonymous"
        />

        <!-- Custom CSS -->
        <link rel="stylesheet" href="./style.css" />

        <!-- Custom JS -->
        <script src="./script.js"></script>

        <!-- Alpine JS -->
        <script
            defer
            src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"
        ></script>
        <!-- HEAD: { END } -->
    </head>
    <body x-data="staticData" class="m-5" x-cloak>
        <!-- { START }
            Blog List:
                Display list of blogs with options
                to edit and publish via toggle switches

            author: Mohak Shrivastava (A00445470)
         -->
        <div
            class="d-grid gap-3 my-2 blog-list"
            x-id="[
                'bl-name',
                'bl-edit',
                'bl-publish',
                'bl-edit-toggle',
                'bl-publish-toggle'
            ]"
        >
            <h2 class="bl-header text-primary">Blog Name</h2>
            <h2 class="bl-header text-primary">Edit</h2>
            <h2 class="bl-header text-primary">Publish</h2>
            <div class="bl-name">
                <template x-for="blog in blogList">
                    <input
                        class="bl-name-text my-1"
                        type="text"
                        :name="$id('bl-edit')"
                        :id="$id('bl-edit')"
                        placeholder="&lt;type name&gt;"
                        :value="blog.name"
                        x-model="blog.name"
                        @focus="kbdFocus = $el"
                        disabled
                    />
                </template>
            </div>
            <div class="bl-edit">
                <template x-for="(blog, index) in blogList">
                    <div class="bl-edit form-check form-switch">
                        <input
                            class="bl-edit-toggle form-check-input my-1"
                            type="checkbox"
                            role="switch"
                            :id="$id('bl-edit-toggle')"
                            @change="editText($el, index)"
                        />
                    </div>
                </template>
            </div>
            <div class="bl-publish">
                <template x-for="(blog, index) in blogList">
                    <div class="bl-publish form-check form-switch">
                        <input
                            class="bl-publish-toggle form-check-input my-1"
                            type="checkbox"
                            role="switch"
                            :id="$id('bl-publish-toggle')"
                            :checked="blog.published"
                            @change="blogList[index].published
                            = !blogList[index].published"
                        />
                    </div>
                </template>
            </div>
        </div>
        <!-- Blog List: { END } -->

        <!-- Editbox Group -->
        <div class="editbox-grp my-2" x-show="editOn" x-transition x-cloak>
            <!-- { START }
                Edit Area:
                    Text area to edit blog posts in,
                    with Save and Cancel functionality

                author: Nayem Imtiaz (A00448982)
             -->
            <div id="editbox-area">
                <div
                    class="btn-group"
                    role="group"
                    aria-label="Basic mixed styles example"
                >
                    <button
                        type="button"
                        class="btn btn-danger save-btn"
                        @mousedown="blogList[currentlyEditing].content
                    = $refs.editbox.value"
                    >
                        Save
                    </button>
                    <button
                        type="button"
                        class="btn btn-warning cancel-btn"
                        @mousedown="$refs.editbox.value
                    = blogList[currentlyEditing].content"
                    >
                        Cancel
                    </button>
                </div>
                <textarea
                    id="editbox"
                    x-ref="editbox"
                    name="textbox"
                    rows="9"
                    cols="56"
                    class="d-block my-2 px-2"
                    :value="getEditText"
                    @focus="kbdFocus = $el"
                ></textarea>
                <div
                    class="btn-group"
                    role="group"
                    aria-label="Basic mixed styles example"
                >
                    <button
                        type="button"
                        class="btn btn-danger save-btn"
                        @mousedown="blogList[currentlyEditing].content
                    = $refs.editbox.value"
                    >
                        Save
                    </button>
                    <button
                        type="button"
                        class="btn btn-warning cancel-btn"
                        @mousedown="$refs.editbox.value
                    = blogList[currentlyEditing].content"
                    >
                        Cancel
                    </button>
                </div>
            </div>
            <!-- Edit Area: { END } -->

            <!-- { START }
                Keyboard:
                    Accessible on-screen keyboard
                    for client to operate using mouse

                author: Naziya Tasnim (A00447506)
             -->
            <div id="kbd" class="d-grid gap-1 my-2">
                <template x-for="glyph in glyphs">
                    <button
                        class="btn btn-danger"
                        @mousedown="addChar(glyph)"
                        x-text="glyph.toUpperCase()"
                    ></button
                ></template>
                <button
                    id="shift"
                    class="btn btn-dark"
                    @mousedown="shiftOn = !shiftOn"
                    x-text="shiftOn ? sp.shift.toUpperCase() : sp.shift"
                ></button>
                <button
                    id="delete"
                    class="btn btn-dark"
                    @mousedown="addChar('del')"
                    x-text="sp.delete"
                ></button>
                <button
                    id="return"
                    class="btn btn-dark"
                    @mousedown="addChar('\n')"
                    x-text="sp.return"
                ></button>
                <button
                    id="space"
                    class="btn btn-dark"
                    @mousedown="addChar(' ')"
                    x-text="sp.space"
                ></button>
            </div>
            <!-- Keyboard: { END } -->
        </div>
    </body>
</html>
